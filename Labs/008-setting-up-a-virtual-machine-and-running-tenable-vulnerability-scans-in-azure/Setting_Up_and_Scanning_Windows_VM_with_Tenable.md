# Setting Up and Scanning a Windows VM with Tenable (Azure)

This lab walks through creating a Windows virtual machine in Azure, configuring networking and firewall settings, and running vulnerability scans using Tenable.

## Watch me build this lab
https://www.loom.com/share/97047010c4914b7da2c0bb4d135110e4

**What this video shows:** Deploying a Windows VM in Azure, configuring a Network Security Group, disabling Windows Firewall for testing, and running both unauthorized and authorized Tenable scans.

---

## Objective
Deploy a Windows virtual machine in Azure and perform both unauthorized and authorized vulnerability scans using Tenable to compare visibility and findings.

---

## Skills Practiced
- Creating Azure Virtual Machines  
- Managing subscriptions and resource groups  
- Configuring Azure Virtual Networks and subnets  
- Creating and associating Network Security Groups (NSGs)  
- Understanding inbound and outbound security rules  
- Disabling Windows Firewall for testing purposes  
- Running unauthorized (credential-less) vulnerability scans  
- Running authorized (credential-based) vulnerability scans  
- Interpreting Tenable vulnerability scan results  

---

## Tools Used
- Microsoft Azure Portal  
- Azure Virtual Machine (Windows 11 Pro / Windows Server)  
- Azure Virtual Network (VNet) and Subnet  
- Azure Network Security Group (NSG)  
- Azure Bastion  
- Windows Defender Firewall  
- Tenable Vulnerability Management  
- Tenable Internal Scan Engine  

---

## Steps Performed

1. **Created Windows Virtual Machine**  
   Deployed a new Windows-based virtual machine in Azure within an existing subscription and resource group.  
   (Optional screenshot) docs/step-1.png

2. **Configured Network and IP Settings**  
   Assigned the VM to a virtual network and subnet while selecting no public IP to keep it on a private network.  
   (Optional screenshot) docs/step-2.png

3. **Validated and Provisioned VM**  
   Reviewed configuration settings, passed validation checks, and completed the VM deployment.  
   (Optional screenshot) docs/step-3.png

4. **Connected via Azure Bastion**  
   Established a secure connection to the VM using Azure Bastion and RDP without exposing a public IP.  
   (Optional screenshot) docs/step-4.png

5. **Created Network Security Group (NSG)**  
   Created a new NSG to control inbound and outbound traffic specific to the virtual machine.  
   (Optional screenshot) docs/step-5.png

6. **Associated NSG with VM**  
   Linked the NSG to the VM’s network interface and verified its association in network settings.  
   (Optional screenshot) docs/step-6.png

7. **Reviewed Security Rules**  
   Examined inbound and outbound rules to understand how traffic is controlled at the cloud firewall level.  
   (Optional screenshot) docs/step-7.png

8. **Disabled Windows Firewall (Lab Only)**  
   Disabled Windows Defender Firewall across domain, private, and public profiles to allow full traffic visibility for testing.  
   (Optional screenshot) docs/step-8.png

9. **Accessed Tenable Vulnerability Management**  
   Logged into Tenable and navigated to the Vulnerability Management → Scans section.  
   (Optional screenshot) docs/step-9.png

10. **Created Basic Network Scan**  
    Configured a new basic network scan using the internal scan engine.  
    (Optional screenshot) docs/step-10.png

11. **Captured Private IP Address**  
    Retrieved the VM’s private IP address from Azure and entered it as the scan target.  
    (Optional screenshot) docs/step-11.png

12. **Configured Unauthorized Scan**  
    Launched a credential-less scan to simulate an external actor scanning the system.  
    (Optional screenshot) docs/step-12.png

13. **Reviewed Initial Scan Results**  
    Examined vulnerability findings and reviewed suggested remediation details.  
    (Optional screenshot) docs/step-13.png

14. **Configured Authorized Scan**  
    Edited the scan configuration and added valid VM credentials to perform an authenticated scan.  
    (Optional screenshot) docs/step-14.png

15. **Launched Authorized Scan**  
    Saved and launched the credentialed scan to allow deeper inspection of the operating system.  
    (Optional screenshot) docs/step-15.png

16. **Verified Scan Execution**  
    Confirmed the scan initiated successfully and validated that results could be reviewed and exported.  
    (Optional screenshot) docs/step-16.png

---

## Outcome
Successfully deployed a Windows virtual machine in Azure, configured network security controls, and executed both unauthorized and authorized Tenable scans to evaluate system vulnerabilities and visibility differences.
